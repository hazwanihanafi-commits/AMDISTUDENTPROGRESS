<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>AMDI Portal</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 24px; }
    input, button { padding: 8px; font-size: 16px; }
    pre { background:#f3f3f3; padding:12px; }
  </style>
</head>
<body>
  <h1>AMDI Student Portal</h1>
  <div>
    <label>Matric: <input id="matric" /></label>
    <button onclick="check()">Check</button>
    <pre id="out"></pre>
  </div>

  <h2>Dashboard</h2>
  <button onclick="loadDashboard()">Load</button>
  <pre id="dash"></pre>

  <script>
    async function check(){
      const m = document.getElementById('matric').value.trim();
      if(!m){ alert('Enter matric'); return; }
      const r = await fetch('/status?matric=' + encodeURIComponent(m));
      const j = await r.json();
      document.getElementById('out').textContent = JSON.stringify(j, null, 2);
    }
    async function loadDashboard(){
      const r = await fetch('/dashboard');
      const j = await r.json();
      document.getElementById('dash').textContent = JSON.stringify(j, null, 2);
    }
  </script>
</body>
</html>
